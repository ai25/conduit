import{createComponent as r,mergeProps as u}from"solid-js/web";import{a3 as C,m as c,P as g,aC as I,aD as y,av as P,a6 as R,c as O,a7 as p,a8 as E,a9 as M,aa as x,n as T,aE as S}from"./Toast.mjs";import{splitProps as m,createEffect as D,onCleanup as L,Show as _,createContext as w,useContext as q,createUniqueId as V}from"solid-js";function N(e){const t=C();e=c({id:t.generateId("error-message")},e);const[o,n]=m(e,["forceMount"]),a=()=>t.validationState()==="invalid";return D(()=>{a()&&L(t.registerErrorMessage(n.id))}),r(_,{get when(){return o.forceMount||a()},get children(){return r(g,u({as:"div"},()=>t.dataset(),n))}})}const b=w();function B(){const e=q(b);if(e===void 0)throw new Error("[kobalte]: `useTextFieldContext` must be used within a `TextField` component");return e}function k(e){return r(A,u({type:"text"},e))}function A(e){const t=C(),o=B();e=c({id:o.generateId("input")},e);const[n,a,d]=m(e,["onInput"],I),{fieldProps:i}=y(a);return r(g,u({as:"input",get id(){return i.id()},get name(){return t.name()},get value(){return o.value()},get required(){return t.isRequired()},get disabled(){return t.isDisabled()},get readonly(){return t.isReadOnly()},get"aria-label"(){return i.ariaLabel()},get"aria-labelledby"(){return i.ariaLabelledBy()},get"aria-describedby"(){return i.ariaDescribedBy()},get"aria-invalid"(){return t.validationState()==="invalid"||void 0},get"aria-required"(){return t.isRequired()||void 0},get"aria-disabled"(){return t.isDisabled()||void 0},get"aria-readonly"(){return t.isReadOnly()||void 0},get onInput(){return P([n.onInput,o.onInput])}},()=>t.dataset(),d))}function $(e){let t;const o=`textfield-${V()}`;e=c({id:o},e);const[n,a,d]=m(e,["ref","value","defaultValue","onChange"],R),[i,f]=O({value:()=>n.value,defaultValue:()=>n.defaultValue,onChange:s=>n.onChange?.(s)}),{formControlContext:l}=p(a);E(()=>t,()=>f(n.defaultValue??""));const F=s=>{if(l.isReadOnly()||l.isDisabled())return;const v=s.target;f(v.value),v.value=i()??""},h={value:i,generateId:T(()=>x(a.id)),onInput:F};return r(M.Provider,{value:l,get children(){return r(b.Provider,{value:h,get children(){return r(g,u({as:"div",role:"group",get id(){return x(a.id)}},()=>l.dataset(),d))}})}})}function j(e){return r($,{get value(){return e.value},get onChange(){return e.onInput},get validationState(){return e.validationState},get children(){return[r(S,{class:"text-text2 text-sm",get children(){return e.name}}),r(k,{get type(){return e.type},get placeholder(){return e.placeholder},get class(){return`bg-bg2 text-text1 outline-none focus-visible:ring-2 text-sm rounded-lg focus:ring-primary focus:border-primary block p-2.5 disabled:bg-bg2 disabled:cursor-not-allowed; ${e.class}`}}),r(N,{class:"text-red-500 text-sm",get children(){return e.errorMessage}})]}})}export{j as F};
//# sourceMappingURL=Field.mjs.map
