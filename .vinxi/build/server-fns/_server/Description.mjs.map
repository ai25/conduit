{"version":3,"file":"Description.mjs","sources":["../../../../src/components/DownloadModal.tsx","../../../../src/components/SubscribeButton.tsx","../../../../src/components/Description.tsx"],"sourcesContent":["\nimport { toaster } from \"@kobalte/core\";\nimport { createEffect, createSignal, For, Show } from \"solid-js\";\nimport { usePreferences } from \"~/stores/preferencesStore\";\nimport Field from \"./Field\";\nimport Modal from \"./Modal\";\nimport { PipedVideo, RelatedStream } from \"~/types\";\nimport VideoCard from \"./content/stream/VideoCard\";\n\ntype Quality = {\n  quality: string;\n  codec: string | undefined;\n  bitrate: number;\n  fps: number;\n  contentLength: number;\n}\nexport default function DownloadModal(props: {\n  isOpen: boolean;\n  setIsOpen: (isOpen: boolean) => void;\n  id: string;\n}) {\n\n  const [video, setVideo] = createSignal<PipedVideo | null>(null);\n  const [preview, setPreview] = createSignal<RelatedStream | undefined>();\n  const [qualities, setQualities] = createSignal<Quality[] | null>(null);\n  const [preferences] = usePreferences();\n  createEffect(async () => {\n    if (!props.isOpen) return;\n    const res = await fetch(`${preferences.instance.api_url}/streams/${props.id}`);\n    const data = await res.json() as PipedVideo;\n    setVideo(data);\n    setPreview({\n      title: data.title,\n      thumbnail: data.thumbnailUrl,\n      duration: data.duration,\n      type: \"stream\",\n      url: `/watch?v=${props.id}`,\n      uploaderName: data.uploader,\n      uploaderUrl: data.uploaderUrl,\n      uploaderAvatar: data.uploaderAvatar,\n      uploaderVerified: data.uploaderVerified,\n      views: data.views,\n      uploaded: new Date(data.uploadDate).getTime(),\n    } as RelatedStream)\n    if (!Array.isArray(data.videoStreams)) throw new Error(\"No video streams\");\n    setQualities(data.videoStreams.map((v) => ({\n      quality: v.quality,\n      codec: v.codec,\n      bitrate: v.bitrate,\n      fps: v.fps,\n      contentLength: v.contentLength,\n    })));\n\n\n  });\n\n  return (\n    <Modal\n      title=\"Download\"\n      isOpen={props.isOpen}\n      setIsOpen={props.setIsOpen}\n    >\n      <div class=\"flex flex-col gap-2 items-center justify-center w-[90vw] max-w-3xl\">\n        <Show when={preview()}>\n          <VideoCard v={preview()} />\n        </Show>\n        <Show when={qualities() && qualities()!.length > 0}>\n          <div class=\"flex flex-col gap-2 items-center justify-center overflow-auto w-full\">\n            <For each={qualities()}>\n              {(quality) => (\n                  <div class=\"flex gap-2 justify-between mb-2 w-full even:bg-bg2 p-2\">\n                    <div class=\"flex flex-col gap-2 items-start justify-center text-sm\">\n                      <div><span class=\"text-text2\">Quality: </span> {quality.quality}</div>\n                      <div> <span class=\"text-text2\">Codec: </span>{quality.codec}</div>\n                      <div><span class=\"text-text2\">Bitrate: </span>{(quality.bitrate / 1000).toFixed(2)} kbps</div>\n                      <div> <span class=\"text-text2\">FPS: </span>{quality.fps}</div>\n                      <div> <span class=\"text-text2\">Size: </span>{(quality.contentLength / 1000000).toFixed(2)} MB</div>\n                    </div>\n                    <button class=\"btn btn-primary\" onClick={() => { }}>Download</button>\n                  </div>\n              )}\n            </For>\n          </div>\n        </Show>\n      </div>\n\n\n\n    </Modal>\n  )\n}\n","import { createSignal } from \"solid-js\";\nimport Button from \"./Button\";\nimport { getStorageValue, setStorageValue } from \"~/utils/storage\";\nimport { useSyncStore } from \"~/stores/syncStore\";\nimport { useAppState } from \"~/stores/appStateStore\";\n\nconst SubscribeButton = (props: { id: string; name:string; class?: string }) => {\n  const sync = useSyncStore();\n  const [appState, setAppState] = useAppState();\n  const isSubscribed = () => !!sync.store.subscriptions[props.id];\n  const toggleSubscribed = () => {\n    if (!isSubscribed()) {\n      sync.setStore(\"subscriptions\", props.id, {\n        subscribedAt: Date.now(),\n        name: props.name,\n      });\n    } else {\n      sync.setStore(\n        \"subscriptions\",\n        props.id,\n        undefined!,\n      );\n    }\n  };\n\n  return (\n    <Button\n      appearance=\"primary\"\n      class={props.class}\n      onClick={toggleSubscribed}\n      isSelected={isSubscribed()}\n      label={`Subscribe${isSubscribed() ? \"d\" : \"\"}`}\n      isLoading={appState.sync.providers.opfs === \"connecting\"}\n      isDisabled={appState.sync.providers.opfs !== \"connected\" && appState.sync.providers.webrtc !== \"connected\"}\n    />\n  );\n};\nexport default SubscribeButton;\n","import numeral from \"numeral\";\nimport type { PipedVideo } from \"../types\";\nimport { For, Match, Show, Switch, createEffect, createSignal } from \"solid-js\";\nimport { usePreferences } from \"~/stores/preferencesStore\";\nimport {\n  FaSolidArrowsRotate,\n  FaSolidBookmark,\n  FaSolidBug,\n  FaSolidChevronDown,\n  FaSolidChevronRight,\n  FaSolidCopy,\n  FaSolidDownload,\n  FaSolidShare,\n  FaSolidThumbsDown,\n  FaSolidThumbsUp,\n  FaSolidTrashCan,\n} from \"solid-icons/fa\";\nimport Modal from \"./Modal\";\nimport { createQuery } from \"@tanstack/solid-query\";\nimport { MediaPlayerElement } from \"vidstack/elements\";\nimport { createDate, createTimeAgo } from \"@solid-primitives/date\";\nimport DownloadModal from \"./DownloadModal\";\nimport { getVideoId, isMobile } from \"~/utils/helpers\";\nimport api from \"~/utils/api\";\nimport { isServer } from \"solid-js/web\";\nimport SubscribeButton from \"./SubscribeButton\";\nimport { Tooltip } from \"./Tooltip\";\nimport Button from \"./Button\";\nimport {\n  TbThumbDown,\n  TbThumbDownFilled,\n  TbThumbUp,\n  TbThumbUpFilled,\n} from \"solid-icons/tb\";\nimport { toast } from \"./Toast\";\nimport { useSearchParams } from \"@solidjs/router\";\nimport Link from \"./Link\";\n\nfunction handleTimestamp(videoId: string, t: string, extraQueryParams: string) {\n  const player = document.querySelector(\"media-player\") as MediaPlayerElement;\n  player.currentTime = parseInt(t, 10);\n\n  const newUrl = new URL(`/watch?v=${videoId}`, window.location.origin);\n  const searchParams = new URLSearchParams(extraQueryParams);\n\n  searchParams.set(\"t\", t);\n\n  newUrl.search = searchParams.toString();\n\n  history.pushState({}, \"\", newUrl.toString());\n}\n\n(globalThis as any).handleTimestamp = handleTimestamp;\n\nexport async function sanitizeText(text: string) {\n  const dompurify = await import(\"dompurify\");\n  const sanitize = dompurify.default().sanitize;\n  const t = sanitize(text)\n    .replaceAll(\n      /(?:http(?:s)?:\\/\\/)?(?:www\\.)?youtube\\.com(\\/[/a-zA-Z0-9_?=&-]*)/gm,\n      \"$1\"\n    )\n    .replaceAll(\n      /(?:http(?:s)?:\\/\\/)?(?:www\\.)?youtu\\.be\\/(?:watch\\?v=)?([/a-zA-Z0-9_?=&-]*)/gm,\n      \"/watch?v=$1\"\n    )\n    .replaceAll(\"\\n\", \"<br>\")\n    .replace(\n      /<a href=\"\\/watch\\?v=([a-zA-Z0-9_?=&-]*)&amp;([^\"]*)\">([a-zA-Z0-9_?=&-:]*)<\\/a>/gm,\n      (_, videoId, params, textContent) => {\n        const url = new URL(`https://youtube.com/watch?v=${videoId}`);\n        const searchParams = new URLSearchParams(params);\n        const existingParams = new URLSearchParams(window.location.search);\n\n        const timestamp = searchParams.get(\"t\") || \"0\";\n\n        const allParams = new URLSearchParams();\n        searchParams.forEach((value, key) => {\n          allParams.set(key, value);\n        });\n        existingParams.forEach((value, key) => {\n          allParams.set(key, value);\n        });\n\n        allParams.forEach((value, key) => {\n          url.searchParams.set(key, value);\n        });\n\n        return `<button class=\"link\" onclick=\"handleTimestamp('${videoId}','${timestamp}', '${url.search}')\">${textContent}</button>`;\n      }\n    )\n    .replaceAll(/<a href/gm, '<a class=\"link\" href');\n  return t;\n}\n\nconst Description = (props: { downloaded: boolean }) => {\n  const [preferences] = usePreferences();\n\n  const [searchParams] = useSearchParams();\n  const [v, setV] = createSignal<string | undefined>(undefined);\n  createEffect(() => {\n    if (!searchParams.v) return;\n    setV(searchParams.v);\n  });\n\n  const videoQuery = createQuery(() => ({\n    queryKey: [\"streams\", v(), preferences.instance.api_url],\n    queryFn: () => api.fetchVideo(v(), preferences.instance.api_url),\n    enabled: v() && preferences.instance.api_url ? true : false,\n    refetchOnReconnect: false,\n    refetchOnMount: false,\n    cacheTime: Infinity,\n    staleTime: 100 * 60 * 1000,\n    deferStream: true,\n  }));\n\n  const [expanded, setExpanded] = createSignal(false);\n\n  const [downloadModalOpen, setDownloadModalOpen] = createSignal(false);\n\n  async function deleteVideo(id: string) {\n    try {\n      const root = await navigator.storage.getDirectory();\n      await root.removeEntry(id, { recursive: true });\n    } catch (e) {\n      console.error(`Failed to delete ${id}`, e);\n    }\n  }\n  const [debugInfoOpen, setDebugInfoOpen] = createSignal(false);\n  const [date, setDate] = createDate(videoQuery.data?.uploadDate ?? new Date());\n  createEffect(() => {\n    setDate(videoQuery.data?.uploadDate ?? new Date());\n  });\n  const [timeAgo] = createTimeAgo(date, { interval: 1000 * 60 });\n  const [sanitizedDescription, setSanitizedDescription] = createSignal<\n    string | undefined\n  >(undefined);\n  createEffect(async () => {\n    if (!videoQuery.data) return;\n    setSanitizedDescription(await sanitizeText(videoQuery.data.description));\n  });\n\n  return (\n    <>\n      <Modal\n        isOpen={debugInfoOpen()}\n        setIsOpen={setDebugInfoOpen}\n        title=\"Debug info\"\n      >\n        <Tooltip\n          contentSlot=\"Copy to clipboard\"\n          triggerSlot={\n            <Button\n              as=\"div\"\n              appearance=\"subtle\"\n              icon={<FaSolidCopy class=\"w-4 h-4\" />}\n            />\n          }\n          onClick={() => {\n            navigator.clipboard.writeText(\n              JSON.stringify(videoQuery.data, null, 2)\n            );\n          }}\n        />\n        <Show\n          when={videoQuery.data}\n          fallback={<div class=\"w-full h-96 bg-bg1 animate-pulse\" />}\n        >\n          <div class=\"max-w-screen-sm max-h-[80vh] overflow-auto\">\n            <JSONViewer data={videoQuery.data} folded={false} />\n          </div>\n        </Show>\n      </Modal>\n      <DownloadModal\n        id={getVideoId(videoQuery.data)!}\n        isOpen={downloadModalOpen()}\n        setIsOpen={setDownloadModalOpen}\n      />\n      <div class=\"bg-bg1 p-4 @container\">\n        <div class=\"flex flex-col gap-2\">\n          <div class=\"flex flex-col gap-2 \">\n            <div class=\"flex items-start justify-between h-full\">\n              <Show\n                when={videoQuery.data}\n                fallback={\n                  <div class=\"w-full h-6 bg-bg2 rounded animate-pulse\" />\n                }\n              >\n                <h1 class=\"text-lg leading-tight font-bold sm:text-xl \">\n                  {videoQuery.data!.title}\n                </h1>\n              </Show>\n            </div>\n            <Show\n              when={videoQuery.data}\n              fallback={\n                <div class=\"w-full h-12 flex sm:justify-start justify-between gap-2\">\n                  <div class=\"w-44 flex items-center gap-2\">\n                    <div class=\"w-12 h-12 aspect-square bg-bg2 animate-pulse rounded-full\" />\n                    <div class=\"flex flex-col justify-between py-1 gap-1 h-full w-full \">\n                      <div class=\"w-full h-4  bg-bg2 animate-pulse rounded\" />\n                      <div class=\"w-3/4 h-4 bg-bg2 animate-pulse rounded\" />\n                    </div>\n                  </div>\n                  <div class=\"w-32 h-10  bg-bg2 animate-pulse rounded-full\" />\n                </div>\n              }\n            >\n              <div class=\"my-1 flex justify-between items-center gap-4 sm:justify-start \">\n                <div class=\"flex max-w-max items-center gap-2 text-sm sm:text-base\">\n                  <Link class=\"link\" href={`${videoQuery.data!.uploaderUrl}`}>\n                    <img\n                      src={videoQuery.data!.uploaderAvatar}\n                      width={42}\n                      height={42}\n                      alt={videoQuery.data!.uploader}\n                      class=\"rounded-full\"\n                    />\n                  </Link>\n                  <div class=\"flex flex-col items-start justify-start\">\n                    <Link\n                      href={`${videoQuery.data!.uploaderUrl}`}\n                      class=\"link flex w-fit items-center gap-2\"\n                    >\n                      {videoQuery.data!.uploader}{\" \"}\n                      {videoQuery.data!.uploaderVerified && <Checkmark />}\n                    </Link>\n                    <div\n                      title={`${\n                        videoQuery.data!.uploaderSubscriberCount\n                      } subscribers`}\n                      class=\"flex w-full items-center text-start text-xs text-text2 sm:text-sm\"\n                    >\n                      {numeral(videoQuery.data!.uploaderSubscriberCount)\n                        .format(\"0a\")\n                        .toUpperCase()}{\" \"}\n                      subscribers\n                    </div>\n                  </div>\n                </div>\n\n                <SubscribeButton\n                  name={videoQuery.data!.uploader}\n                  id={\n                    (() =>\n                      videoQuery.data?.uploaderUrl?.split(\"/channel/\")[1])() ??\n                    \"\"\n                  }\n                />\n              </div>\n            </Show>\n          </div>\n          <Show when={videoQuery.data} fallback={<ActionsContainerFallback />}>\n            <ActionsContainer\n              downloaded={props.downloaded}\n              deleteVideo={() => deleteVideo(getVideoId(videoQuery.data)!)}\n              setDownloadModalOpen={() => setDownloadModalOpen(true)}\n              refetch={videoQuery.refetch}\n              setDebugInfoOpen={() => setDebugInfoOpen(true)}\n            />\n          </Show>\n          <Show\n            when={videoQuery.data}\n            fallback={\n              <div class=\"w-full h-8 flex flex-wrap gap-2 mb-2 items-end justify-between \">\n                <div class=\"w-64 h-4 bg-bg2 animate-pulse rounded-lg\" />\n                <div class=\"w-full @sm:w-36 h-4 bg-bg2 animate-pulse rounded-lg\" />\n              </div>\n            }\n          >\n            <div\n              title={`Published ${(() => {\n                const substr = date().toString().split(\":\")[0];\n                return substr.slice(0, substr.length - 3);\n              })()} • ${numeral(videoQuery.data!.views).format(\"0,0\")} views`}\n              class=\"flex flex-col @sm:flex-row items-start @sm:items-center justify-between gap-1 my-1 text-sm \"\n            >\n              <div class=\"flex items-center gap-1 @sm:max-w-[16rem] @md:max-w-full\">\n                <p class=\"truncate\">\n                  {(() => {\n                    const substr = date().toString().split(\":\")[0];\n                    const time = date().toString().split(\" \")[4];\n                    return `${substr.slice(0, substr.length - 3)} ${time.slice(0, time.length - 3)}`;\n                  })()}\n                </p>\n                •\n                <p class=\"truncate\">\n                  {videoQuery.data!.views > 10000\n                    ? numeral(videoQuery.data!.views)\n                        .format(\"0.00a\")\n                        .toUpperCase()\n                    : numeral(videoQuery.data!.views)\n                        .format(\"0,0\")\n                        .toUpperCase()}{\" \"}\n                  views\n                </p>\n              </div>\n              <div class=\"flex flex-col w-full @sm:w-36 \">\n                <div class=\"flex items-center justify-between\">\n                  <span\n                    title={`${numeral(videoQuery.data!.likes).format(\"0,0\")} likes`}\n                    class=\"flex items-center gap-1 \"\n                  >\n                    <TbThumbUpFilled class=\"w-5 h-5 text-text2\" />\n                    {videoQuery.data!.likes > 1000\n                      ? numeral(videoQuery.data!.likes)\n                          .format(\"0.0a\")\n                          .toUpperCase()\n                      : numeral(videoQuery.data!.likes)\n                          .format(\"0,0\")\n                          .toUpperCase()}\n                  </span>\n                  <span\n                    title={`${numeral(videoQuery.data!.dislikes).format(\n                      \"0,0\"\n                    )} likes`}\n                    class=\"flex items-center gap-1\"\n                  >\n                    <TbThumbDownFilled\n                      class=\"h-5 w-5 text-text2 \"\n                      fill=\"currentColor\"\n                    />\n                    {videoQuery.data!.dislikes > 1000\n                      ? numeral(videoQuery.data!.dislikes)\n                          .format(\"0.0a\")\n                          .toUpperCase()\n                      : numeral(videoQuery.data!.dislikes)\n                          .format(\"0,0\")\n                          .toUpperCase()}\n                  </span>\n                </div>\n                <div class=\"w-full h-1 bg-primary rounded mt-2 flex justify-end\">\n                  <div\n                    class=\"h-full bg-bg3 rounded-r\"\n                    style={{\n                      width: `${\n                        (videoQuery.data!.dislikes /\n                          (videoQuery.data!.likes +\n                            videoQuery.data!.dislikes)) *\n                        100\n                      }%`,\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          </Show>\n        </div>\n        <Show\n          when={videoQuery.data}\n          fallback={\n            <div class=\"mt-1 rounded-lg w-full h-24 bg-bg2 animate-pulse\" />\n          }\n        >\n          <div class=\"mt-1 flex flex-col rounded-lg bg-bg2 p-2\">\n            <div\n              tabIndex={0}\n              id=\"description\"\n              aria-expanded={expanded()}\n              class={`min-w-0 max-w-full overflow-hidden ${\n                expanded() ? \"\" : \"max-h-20\"\n              }`}\n              innerHTML={sanitizedDescription()!}\n            />\n            <div classList={{ hidden: expanded() }} class=\"w-full h-0 relative\">\n              <div class=\"absolute bottom-full w-full h-5 bg-gradient-to-t from-bg2 to-transparent pointer-events-none\" />\n            </div>\n            <button\n              aria-controls=\"description\"\n              onClick={() => {\n                setExpanded(!expanded());\n              }}\n              class=\"text-center text-sm text-accent1 hover:underline \"\n            >\n              Show {expanded() ? \"less\" : \"more\"}\n            </button>\n          </div>\n        </Show>\n      </div>\n    </>\n  );\n};\n\nexport const Checkmark = () => (\n  <svg\n    class=\"h-4 w-4 \"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"currentColor\"\n    viewBox=\"0 0 24 24\"\n  >\n    <path d=\"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-1.25 17.292l-4.5-4.364 1.857-1.858 2.643 2.506 5.643-5.784 1.857 1.857-7.5 7.643z\" />\n  </svg>\n);\n\ntype JSONViewerProps = {\n  data: any;\n  folded: boolean;\n  level?: number;\n};\n\nconst JSONViewer: any = (props: JSONViewerProps) => {\n  const [folded, setFolded] = createSignal(props.folded);\n  const isObject = typeof props.data === \"object\" && props.data !== null;\n\n  return (\n    <div class={`pl-${props.level || 1} flex text-xs font-mono`}>\n      {isObject ? (\n        <div class=\"flex gap-2 justify-between\">\n          <span class=\"cursor-pointer\" onClick={() => setFolded(!folded())}>\n            {folded() ? <FaSolidChevronRight /> : <FaSolidChevronDown />}\n          </span>\n          <span>{Array.isArray(props.data) ? \"[\" : \"{\"}</span>\n          {!folded() ? (\n            <pre>\n              {Object.entries(props.data).map(([key, value], index) => (\n                <pre class=\"flex gap-2\">\n                  <span class=\"font-bold\">{key}:</span>{\" \"}\n                  <JSONViewer\n                    data={value}\n                    level={(props.level || 0) + 1}\n                    folded={true}\n                  />\n                </pre>\n              ))}\n            </pre>\n          ) : (\n            \"...\"\n          )}\n          <span>{Array.isArray(props.data) ? \"]\" : \"}\"}</span>\n        </div>\n      ) : (\n        <span>{props.data}</span>\n      )}\n    </div>\n  );\n};\n\nexport default Description;\n\nconst ActionsContainer = (props: {\n  downloaded: boolean;\n  deleteVideo: () => void;\n  setDownloadModalOpen: () => void;\n  refetch: () => void;\n  setDebugInfoOpen: () => void;\n}) => {\n  return (\n    <div class=\"flex items-center justify-evenly rounded-full p-2 bg-bg2\">\n      <Switch>\n        <Match when={props.downloaded}>\n          <Tooltip\n            as=\"div\"\n            contentSlot=\"Delete\"\n            triggerSlot={\n              <Button\n                icon={<FaSolidTrashCan class=\"h-6 w-6\" />}\n                appearance=\"subtle\"\n                onClick={props.deleteVideo}\n              />\n            }\n          />\n        </Match>\n        <Match when={!props.downloaded}>\n          <Tooltip\n            as=\"div\"\n            contentSlot=\"Download\"\n            triggerSlot={\n              <Button\n                icon={<FaSolidDownload class=\"h-6 w-6\" />}\n                appearance=\"subtle\"\n                onClick={props.setDownloadModalOpen}\n              />\n            }\n          />\n        </Match>\n      </Switch>\n      <Tooltip\n        as=\"div\"\n        contentSlot={\"Share\"}\n        triggerSlot={\n          <Button\n            icon={<FaSolidShare class=\"h-6 w-6\" />}\n            appearance=\"subtle\"\n            onClick={() => {\n              toast.show(\"Not implemented\");\n            }}\n          />\n        }\n      />\n      <Tooltip\n        as=\"div\"\n        contentSlot=\"Save\"\n        triggerSlot={\n          <Button\n            icon={<FaSolidBookmark class=\"h-6 w-6\" />}\n            appearance=\"subtle\"\n            onClick={() => {\n              toast.show(\"Not implemented\");\n            }}\n          />\n        }\n      />\n      <Tooltip\n        as=\"div\"\n        contentSlot=\"Debug info\"\n        triggerSlot={\n          <Button\n            icon={<FaSolidBug class=\"h-6 w-6\" />}\n            appearance=\"subtle\"\n            onClick={props.setDebugInfoOpen}\n          />\n        }\n      />\n      <Tooltip\n        as=\"div\"\n        contentSlot=\"Soft Refresh (Shift+R)\"\n        triggerSlot={\n          <Button\n            icon={<FaSolidArrowsRotate class=\"h-6 w-6\" />}\n            appearance=\"subtle\"\n            onClick={props.refetch}\n          />\n        }\n      />\n    </div>\n  );\n};\n\nconst ActionsContainerFallback = () => (\n  <div class=\"flex items-center bg-bg2 justify-evenly rounded-full p-2 \">\n    <div class=\"w-10 h-10 bg-bg1 rounded-full animate-pulse\" />\n    <div class=\"w-10 h-10 bg-bg1 rounded-full animate-pulse\" />\n    <div class=\"w-10 h-10 bg-bg1 rounded-full animate-pulse\" />\n    <div class=\"w-10 h-10 bg-bg1 rounded-full animate-pulse\" />\n    <div class=\"w-10 h-10 bg-bg1 rounded-full animate-pulse\" />\n  </div>\n);\n"],"names":["DownloadModal","props","video","setVideo","createSignal","preview","setPreview","qualities","setQualities","preferences","usePreferences","createEffect","isOpen","data","fetch","instance","api_url","id","json","title","thumbnail","thumbnailUrl","duration","type","url","uploaderName","uploader","uploaderUrl","uploaderAvatar","uploaderVerified","views","uploaded","Date","uploadDate","getTime","Array","isArray","videoStreams","Error","map","v","quality","codec","bitrate","fps","contentLength","_$createComponent","Modal","setIsOpen","children","_$ssr","_tmpl$2","_$ssrHydrationKey","_$escape","Show","when","VideoCard","length","_tmpl$","For","each","_tmpl$3","toFixed","SubscribeButton","sync","useSyncStore","appState","setAppState","useAppState","isSubscribed","store","subscriptions","Button","appearance","class","onClick","toggleSubscribed","setStore","undefined","subscribedAt","now","name","isSelected","label","isLoading","providers","opfs","isDisabled","webrtc","SubscribeButton$1","handleTimestamp","videoId","t","extraQueryParams","player","document","querySelector","currentTime","parseInt","newUrl","URL","window","location","origin","searchParams","URLSearchParams","set","search","toString","history","pushState","globalThis","sanitizeText","text","sanitize","default","replaceAll","replace","_","params","textContent","existingParams","timestamp","get","allParams","forEach","value","key","Description","useSearchParams","setV","videoQuery","createQuery","queryKey","queryFn","api","fetchVideo","enabled","refetchOnReconnect","refetchOnMount","cacheTime","Infinity","staleTime","deferStream","expanded","setExpanded","downloadModalOpen","setDownloadModalOpen","deleteVideo","root","navigator","storage","getDirectory","removeEntry","recursive","e","console","error","debugInfoOpen","setDebugInfoOpen","date","setDate","createDate","createTimeAgo","interval","sanitizedDescription","setSanitizedDescription","description","Tooltip","contentSlot","triggerSlot","as","icon","FaSolidCopy","clipboard","writeText","JSON","stringify","fallback","_tmpl$8","JSONViewer","folded","getVideoId","_tmpl$7","_tmpl$9","_tmpl$10","_tmpl$4","Link","href","_$ssrAttribute","Checkmark","uploaderSubscriberCount","numeral","format","toUpperCase","split","ActionsContainerFallback","ActionsContainer","downloaded","refetch","_tmpl$11","_tmpl$5","substr","slice","time","likes","TbThumbUpFilled","dislikes","TbThumbDownFilled","fill","_tmpl$12","_tmpl$6","_tmpl$13","setFolded","isObject","_tmpl$14","level","_tmpl$15","FaSolidChevronRight","FaSolidChevronDown","_tmpl$16","Object","entries","index","_tmpl$17","_tmpl$18","Description$1","_tmpl$19","Switch","Match","FaSolidTrashCan","FaSolidDownload","FaSolidShare","toast","show","FaSolidBookmark","FaSolidBug","FaSolidArrowsRotate","_tmpl$20"],"mappings":"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"}