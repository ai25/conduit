import{createComponent as t,ssr as i,ssrHydrationKey as n,escape as l,ssrAttribute as x}from"solid-js/web";import{createSignal as c,Show as a,mergeProps as w,Switch as p,Match as m}from"solid-js";import{E as $,H as y,I as S,J as P,K as C,aF as M,L as U,aG as o,M as _,aH as k,R as g,Q as N,aA as D}from"./Toast.mjs";import{h as F}from"./index4.mjs";import{m as O,u as I,v as H,s as T,o as A}from"./index5.mjs";import{L as u}from"./Link.mjs";var B=["<div",' class="flex items-center gap-2"><!--$-->','<!--/--><div class="text-text1">Share</div></div>'],L=["<span",' class="text-text2 max-w-xs truncate">',"</span>"],j=["<div",' class="flex items-center gap-2"><!--$-->',"<!--/--><!--$-->",'<!--/--><div class="text-text1">',"</div></div>"],z=["<div",' class="flex items-center gap-2"><!--$-->','<!--/--><div class="text-text1">Block</div></div>'],G=["<div",' class="flex items-center gap-2"><!--$-->','<!--/--><div class="text-text1">Debug info</div></div>'],E=["<pre",' class="break-all text-text1 max-w-full min-w-0 overflow-auto z-[9999999]">',"</pre>"];function J(e){const[v,b]=c(!1),[h,d]=c(!1),s=$();return[t(y,{overlap:!0,get open(){return v()},onOpenChange:b,gutter:0,modal:!0,hideWhenDetached:!0,get children(){return[t(S,{class:"p-1 outline-none focus-visible:ring-2 focus-visible:ring-primary rounded-md",get children(){return t(F,{fill:"currentColor",class:"text-text2 w-6 h-6 group-hover:text-text1"})}}),t(P,{get children(){return t(C,{onTouchEnd:async r=>{await M(),r.preventDefault(),r.stopPropagation()},class:`bg-bg1 border border-bg2 shadow p-2 rounded-md z-50
                -translate-y-4
                animate-in
                fade-in
                slide-in-from-top-10
                duration-200
                `,get children(){return[t(U,{}),t(o,{class:"cursor-pointer w-full border-bg3 flex relative items-center px-7 py-2 rounded border-b hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-highlight focus-visible:outline-none",onClick:r=>{r.stopPropagation()},onPointerUp:r=>{r.stopPropagation()},onSelect:()=>{},get children(){return i(B,n(),l(t(O,{})))}}),t(a,{get when(){return e.item.uploaderName&&e.item.uploaderUrl},get children(){return t(_,{class:"mt-2",get children(){return[t(k,{class:"flex items-center gap-2",get children(){return i(L,n(),l(e.item.uploaderName))}}),t(o,{class:"cursor-pointer w-full border-bg3 flex relative items-center px-7 py-2 rounded border- hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-highlight focus-visible:outline-none",onClick:r=>{r.stopPropagation()},onPointerUp:r=>{r.stopPropagation()},onSelect:()=>{const r=e.item.uploaderUrl.split("/channel/")[1];s.store.subscriptions[r]?(s.setStore("subscriptions",r,void 0),g.success(`Unsubscribed from ${e.item.uploaderName}.`)):(s.setStore("subscriptions",r,{subscribedAt:Date.now()}),g.success(`Subscribed to ${e.item.uploaderName}.`))},get children(){return i(j,n(),l(t(a,{get when(){return s.store.subscriptions[e.item.uploaderUrl.split("/channel/")[1]]},get children(){return t(I,{})}})),l(t(a,{get when(){return!s.store.subscriptions[e.item.uploaderUrl.split("/channel/")[1]]},get children(){return t(H,{})}})),s.store.subscriptions[e.item.uploaderUrl.split("/channel/")[1]]?"Unsubscribe":"Subscribe")}}),t(o,{class:"cursor-pointer w-full border-bg3 flex relative items-center px-7 py-2 rounded border-b hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-highlight focus-visible:outline-none",onClick:r=>{r.stopPropagation()},onPointerUp:r=>{r.stopPropagation()},onSelect:()=>{},get children(){return i(z,n(),l(t(T,{})))}})]}})}}),t(o,{class:"cursor-pointer w-full border-bg3 flex relative items-center px-7 py-2 rounded  hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-highlight focus-visible:outline-none",onSelect:()=>d(!0),get children(){return i(G,n(),l(t(A,{fill:"currentColor"})))}})]}})}})]}}),t(N,{get isOpen(){return h()},setIsOpen:d,title:"Debug info",get children(){return i(E,n(),l(JSON.stringify(e.item,null,2)))}})]}var K=["<div",' class="','"><div class="','">','</div><div class="','"><div class="','"><!--$-->',"<!--/--><!--$-->",'<!--/--></div><div class="flex flex-col justify-start min-w-[32px]">',"</div></div></div>"],R=["<div",' class="flex flex-col gap-1"><div aria-hidden="true" class="animate-pulse bg-bg2 w-full rounded-lg h-4 "></div><div aria-hidden="true" class="animate-pulse bg-bg2 w-1/2 h-4 rounded-lg "></div></div>'],q=["<img",' class="','"',' width="2560" height="1440" alt="" loading="lazy">'],Q=["<div",' class="relative h-0 w-12 place-self-end lg:w-16 "><div class="absolute w-max bottom-2 right-2 bg-bg1/90 rounded px-1 py-px border border-bg2 text-xs"><!--$-->',"<!--/--><!--$-->","<!--/--></div></div>"],V=["<div",' class="','"><div class="animate-pulse bg-bg2 aspect-video h-full overflow-hidden max-w-fit w-full"><div class="w-96 h-full"></div></div></div>'],f=["<div",' class="peer w-fit truncate max-w-[10rem]">',"</div>"],W=["<div",' class="flex gap-1 text-text2 w-full max-w-full "><div class="flex w-full flex-col text-xs ">',"</div></div>"],X=["<div",' class="flex flex-col gap-2 pr-2 w-full "><div class="flex gap-2 text-text2"><div class="animate-pulse bg-bg2 w-8 h-8 aspect-square rounded-full"></div><div class="flex w-full flex-col gap-2 justify-center"><div class="animate-pulse bg-bg2 w-32 h-4 rounded-lg"></div></div></div></div>'];const Y=e=>(e=w({layout:"sm:grid"},e),i(K,n(),`flex flex-row gap-2 mx-1 items-start rounded-xl bg-bg1 p-2  ${e.layout==="list"?"min-w-full":""} ${e.layout==="sm:grid"?"sm:max-w-max  sm:flex-col sm:w-72 sm:gap-0 min-w-full sm:min-w-0":""} ${e.layout==="grid"?"h-max max-h-max max-w-max flex-col w-full gap-2 sm:w-72":""}`,`aspect-video overflow-hidden rounded ${e.layout==="list"?"max-h-96":""} ${e.layout==="sm:grid"?"max-h-44 min-w-min sm:max-h-full sm:w-full":""}`,l(t(a,{get when(){return e.item},get fallback(){return t(ee,{get layout(){return e.layout}})},get children(){return t(Z,{get url(){return e.item.url},get src(){return e.item.thumbnail},get videos(){return e.item.videos}})}})),`flex w-full min-w-0 justify-between h-full  sm:mt-2 max-h-20 ${e.layout==="grid"?"max-w-[22rem]":""}`,`flex flex-col min-w-0 gap-2 pr-2 h-full w-full ${e.layout==="sm:grid"||e.layout==="list"?"max-w-[10rem] [@media(min-width:380px)]:max-w-[11rem] [@media(min-width:400px)]:max-w-full":""} ${e.layout==="grid"?"max-w-full":""}`,l(t(a,{get when(){return e.item},get fallback(){return i(R,n())},get children(){return t(D,{as:"div",placement:"top",openDelay:1e3,get triggerSlot(){return t(u,{get href(){return e.item.url},class:"rounded text-start two-line-ellipsis min-w-0 py-1 outline-none focus-visible:ring-2 focus-visible:ring-primary",get children(){return e.item.name}})},get contentSlot(){return e.item.name}})}})),l(t(a,{get when(){return e.item},get fallback(){return t(re,{})},get children(){return t(te,{get url(){return e.item.url},get title(){return e.item.name},get uploaderName(){return e.item.uploaderName},get uploaderUrl(){return e.item.uploaderUrl}})}})),l(t(a,{get when(){return e.item},get children(){return t(J,{get item(){return e.item}})}})))),de=Y,Z=e=>t(u,{get href(){return e.url},class:"relative w-[10rem] flex aspect-video sm:w-full flex-col overflow-hidden rounded sm:min-w-min text-text1 outline-none focus-visible:ring-2 focus-visible:ring-primary",get children(){return[i(q,n(),"cursor-pointer w-full sm:min-w-[10rem] aspect-video max-w-md break-words ",x("src",l(e.src,!0),!1)),i(Q,n(),l(t(a,{get when(){return e.videos<1},children:"Mix"})),l(t(a,{get when(){return e.videos>=1},get children(){return[e.videos," videos"]}})))]}}),ee=e=>i(V,n(),`relative flex aspect-video min-w-0 flex-col rounded-lg overflow-hidden ${e.layout==="grid"?"w-full":""} ${e.layout==="sm:grid"?"w-[10rem] sm:w-full sm:max-w-[18rem]":""} ${e.layout==="list"?"w-[10rem]":""}`),te=e=>i(W,n(),l(t(p,{get children(){return[t(m,{get when(){return e.uploaderName&&e.uploaderUrl},get children(){return t(u,{get href(){return e.uploaderUrl||""},class:"rounded outline-none focus-visible:ring-2 focus-visible:ring-primary",get children(){return i(f,n(),l(e.uploaderName))}})}}),t(m,{get when(){return e.uploaderName&&!e.uploaderUrl},get children(){return i(f,n(),l(e.uploaderName))}})]}}))),re=()=>i(X,n());export{de as P};
//# sourceMappingURL=PlaylistCard.mjs.map
